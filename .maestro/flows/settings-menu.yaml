# Settings Menu Flow - Tests settings accessibility
# Cross-platform: Web, Android, iOS

appId: ${PLATFORM == 'android' ? 'com.jbcom.stellardescent' : (PLATFORM == 'ios' ? 'com.jbcom.stellardescent' : null)}
url: ${PLATFORM == 'web' ? 'http://localhost:8080' : null}
tags:
  - menu
  - settings
name: "Settings Menu Navigation"

---
- launchApp:
    clearState: true

- extendedWaitUntil:
    visible: "SETTINGS"
    timeout: 30000

- tapOn:
    text: "SETTINGS"

# Verify settings modal opens
- extendedWaitUntil:
    visible: "SYSTEM PREFERENCES"
    timeout: 5000

- assertVisible:
    text: "Audio"
    optional: true

- takeScreenshot: "settings_menu"

# Close settings
- tapOn:
    text: "CLOSE"

- extendedWaitUntil:
    notVisible: "SYSTEM PREFERENCES"
    timeout: 5000

- takeScreenshot: "back_to_menu"
