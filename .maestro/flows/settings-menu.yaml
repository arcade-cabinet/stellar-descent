# Settings Menu Flow - Tests settings accessibility
# Cross-platform: Web, Android, iOS

appId: "${PLATFORM == 'android' ? 'com.jbcom.stellardescent' : (PLATFORM == 'ios' ? 'com.jbcom.stellardescent' : null)}"
url: "${PLATFORM == 'web' ? WEB_URL : null}"
tags:
  - menu
  - settings
name: "Settings Menu Navigation"

---
- launchApp

- extendedWaitUntil:
    visible: "SETTINGS"
    timeout: 30000

- tapOn:
    text: "SETTINGS"

# Verify settings tabs are visible
- extendedWaitUntil:
    visible: "Gameplay"
    timeout: 5000

- assertVisible:
    text: "Audio"

- assertVisible:
    text: "Controls"

- assertVisible:
    text: "Graphics"

- assertVisible:
    text: "Accessibility"

- takeScreenshot: "settings_menu"

# Close settings via X button
- tapOn:
    text: "X"

- extendedWaitUntil:
    visible: "NEW GAME"
    timeout: 5000

- takeScreenshot: "back_to_menu"
