# Pause and Resume Flow - Tests pause menu during gameplay
# Run: maestro test .maestro/flows/pause-resume.yaml

appId: com.jbcom.stellardescent

---
- launchApp:
    clearState: true

- tapOn:
    text: "NEW GAME"
    timeout: 10000

- extendedWaitUntil:
    notVisible:
      text: "Loading"
    timeout: 30000

# Wait for game to be playable
- wait: 3000

# Tap pause button (usually top-right corner)
- tapOn:
    id: "pause-button"
    optional: true

# Alternative: tap center-top area where pause often is
- tapOn:
    point: "95%, 5%"
    optional: true

# Check pause menu appears
- assertVisible:
    text: "RESUME"
    optional: true
    timeout: 5000

- assertVisible:
    text: "QUIT"
    optional: true

- takeScreenshot: "pause_menu"

# Resume game
- tapOn:
    text: "RESUME"
    optional: true

- wait: 1000

- takeScreenshot: "resumed_gameplay"
