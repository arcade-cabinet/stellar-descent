# Main Menu tests
# Works on: Web, Android, iOS

appId: ${PLATFORM == 'android' ? 'com.jbcom.stellardescent' : (PLATFORM == 'ios' ? 'com.jbcom.stellardescent' : null)}
url: ${PLATFORM == 'web' ? 'http://localhost:8080' : null}
tags:
  - menu
name: "Main Menu - Navigation and Controls"

---

- launchApp

# Wait for main menu to load
- extendedWaitUntil:
    visible: "NEW CAMPAIGN"
    timeout: 30000

# Test Controls modal
- tapOn:
    text: "CONTROLS"

- extendedWaitUntil:
    visible: "OPERATIONS MANUAL"
    timeout: 5000

- assertVisible:
    text: "Move"

- takeScreenshot: "controls-modal"

# Close controls modal
- tapOn:
    text: "CLOSE"

- extendedWaitUntil:
    notVisible: "OPERATIONS MANUAL"
    timeout: 5000

# Verify we're back at main menu
- assertVisible:
    text: "NEW CAMPAIGN"

- takeScreenshot: "main-menu-after-close"
