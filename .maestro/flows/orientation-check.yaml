# Orientation Check Flow - Verifies landscape enforcement
# Run: maestro test .maestro/flows/orientation-check.yaml

appId: com.jbcom.stellardescent

---
- launchApp:
    clearState: true

# App should launch in landscape
- takeScreenshot: "initial_orientation"

# Verify main menu is accessible
- assertVisible:
    text: "Stellar Descent"
    timeout: 10000

# Test rotating to portrait (should show error or auto-rotate back)
- setDeviceOrientation: portrait

- wait: 2000

# Should either show "rotate device" message or force landscape
- takeScreenshot: "portrait_attempt"

# Check for orientation warning
- assertVisible:
    text: "rotate"
    optional: true

- assertVisible:
    text: "Landscape"
    optional: true

# Rotate back to landscape
- setDeviceOrientation: landscape

- wait: 1000

# Verify game is still functional
- assertVisible:
    text: "NEW GAME"
    timeout: 5000

- takeScreenshot: "landscape_restored"
