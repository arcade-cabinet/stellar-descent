# Touch Controls Flow - Tests mobile touch input
# Platform: Android, iOS (mobile-specific)

appId: ${PLATFORM == 'android' ? 'com.jbcom.stellardescent' : (PLATFORM == 'ios' ? 'com.jbcom.stellardescent' : null)}
url: ${PLATFORM == 'web' ? 'http://localhost:8080' : null}
tags:
  - mobile-only
  - controls
name: "Touch Controls Test"

---
- launchApp:
    clearState: true

- extendedWaitUntil:
    visible: "NEW CAMPAIGN"
    timeout: 30000

- tapOn:
    text: "NEW CAMPAIGN"

- extendedWaitUntil:
    visible: "SYSTEMS ONLINE"
    timeout: 60000

# Wait for game to fully load
- wait: 3000

# Test virtual joystick (left side of screen)
- swipe:
    start: "10%, 70%"
    end: "20%, 60%"
    duration: 500

- swipe:
    start: "10%, 70%"
    end: "5%, 80%"
    duration: 500

# Test look controls (right side of screen)
- swipe:
    start: "80%, 50%"
    end: "90%, 40%"
    duration: 300

# Test fire button tap (if visible)
- tapOn:
    id: "fire-button"
    optional: true

# Test weapon switch
- tapOn:
    id: "weapon-switch"
    optional: true

- takeScreenshot: "touch_controls_test"
