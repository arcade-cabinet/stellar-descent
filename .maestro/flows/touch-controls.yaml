# Touch Controls Flow - Tests mobile touch input
# Run: maestro test .maestro/flows/touch-controls.yaml

appId: com.jbcom.stellardescent

---
- launchApp:
    clearState: true

- tapOn:
    text: "NEW GAME"
    timeout: 10000

- extendedWaitUntil:
    notVisible:
      text: "Loading"
    timeout: 30000

# Test virtual joystick (left side of screen)
- swipe:
    start: "10%, 70%"
    end: "20%, 60%"
    duration: 500

- swipe:
    start: "10%, 70%"
    end: "5%, 80%"
    duration: 500

# Test look controls (right side of screen)
- swipe:
    start: "80%, 50%"
    end: "90%, 40%"
    duration: 300

# Test fire button tap (if visible)
- tapOn:
    id: "fire-button"
    optional: true

# Test weapon switch
- tapOn:
    id: "weapon-switch"
    optional: true

- takeScreenshot: "touch_controls_test"
